#+TITLE: Bryley's Emacs Config
#+AUTHOR: Bryley Hayter

* Package Management Setup
  
The following code is used to setup 'use-package'

#+begin_src emacs-lisp
(require 'package)

(setq package-archives '(
    ("melpa" . "https://melpa.org/packages/")
    ("org" . "https://orgmode.org/elpa/")
    ("elpa" . "https://elpa.gnu.org/packages/")
))

(package-initialize)

(setq use-package-always-ensure t)              ;; Always use :ensure by default

(unless (package-installed-p 'use-package)
    (package-refresh-contents)
    (package-install 'use-package)
)
(eval-when-compile (require 'use-package))      ;; Use 'use-package'
#+end_src

* Package Setups
** Evil mode
Evil mode is a mode that turns emacs into vim.
#+begin_src emacs-lisp
(use-package evil
  :init      ;; tweak evil's configuration before loading it
  (setq evil-want-keybinding nil)
  (setq evil-vsplit-window-right t)
  (setq evil-split-window-below t)
  (setq evil-want-C-d-scroll t)
  (setq evil-want-C-u-scroll t)
  (evil-mode t)
)
(use-package evil-collection
  :after evil
  :config
  (setq evil-collection-mode-list '(dashboard dired ibuffer))
  (evil-collection-init)
)
#+end_src

** general
General is a keybinding plugin that allows for easy kindbindings to be setup with a leader key.

#+begin_src emacs-lisp
(use-package general
  :config
  (general-evil-setup t)
)
#+end_src
The key bindings are setup under the 'Key bindings' section.

** Theme
*** doom-one
The main theme used is 'doom-one' from 'doom-themes' package

#+begin_src emacs-lisp
(use-package doom-themes
  :init
  (setq doom-themes-enable-bold t)
  (setq doom-themes-enable-italic t)
  :config
  (load-theme 'doom-one t)
)
#+end_src

*** org-bullets
Package for adding bullets to org documents.

#+begin_src emacs-lisp
(use-package org-bullets)
(add-hook 'org-mode-hook (lambda () (org-bullets-mode t)))
#+end_src

*** Modeline

#+begin_src emacs-lisp
(use-package doom-modeline)
(doom-modeline-mode t)
#+end_src

** Which Key
Which key is a package that helps with showing the available options when doing key chords.
#+begin_src emacs-lisp
(use-package which-key)
(which-key-mode)
#+end_src

** Ivy
Ivy is a fuzzy finder tool that integrates itself within Emacs.

#+begin_src emacs-lisp
(use-package ivy)
(ivy-mode)
#+end_src

** All the Icons
Extra icon support. Note that the code below will run 'all-the-icons-install-fonts' only once when the package is not installed.

#+begin_src emacs-lisp
(use-package all-the-icons
  :config
  (unless (package-installed-p 'all-the-icons)
    (all-the-icons-install-fonts)
  )
)
#+end_src

** Scroll on Jump
Package used to smooth scrolling.
#+begin_src emacs-lisp
(use-package scroll-on-jump)
#+end_src

Below was copied from the github and is for setup with evil.
#+begin_src emacs-lisp
(with-eval-after-load 'evil
  (scroll-on-jump-advice-add evil-undo)
  (scroll-on-jump-advice-add evil-redo)
  (scroll-on-jump-advice-add evil-jump-item)
  (scroll-on-jump-advice-add evil-jump-forward)
  (scroll-on-jump-advice-add evil-jump-backward)
  (scroll-on-jump-advice-add evil-ex-search-next)
  (scroll-on-jump-advice-add evil-ex-search-previous)
  (scroll-on-jump-advice-add evil-forward-paragraph)
  (scroll-on-jump-advice-add evil-backward-paragraph)
  (scroll-on-jump-advice-add evil-goto-mark)

  ;; Actions that themselves scroll.
  (scroll-on-jump-with-scroll-advice-add evil-goto-line)
  (scroll-on-jump-with-scroll-advice-add evil-scroll-down)
  (scroll-on-jump-with-scroll-advice-add evil-scroll-up)
  (scroll-on-jump-with-scroll-advice-add evil-scroll-line-to-center)
  (scroll-on-jump-with-scroll-advice-add evil-scroll-line-to-top)
  (scroll-on-jump-with-scroll-advice-add evil-scroll-line-to-bottom)
)
#+end_src
* Global Configurations
** Must-have Configurations
*** GUI Settings

#+begin_src emacs-lisp
(setq inhibit-startup-message t)  ;; Removes the startup page

(scroll-bar-mode -1)              ;; Disables scrollbar
(tool-bar-mode -1)                ;; Disables tool-bar
(tooltip-mode -1)                 ;; Disables tooltips
#+end_src

*** Line numbers
    Enables line numbers.
#+begin_src emacs-lisp
(setq display-line-numbers-type 'relative)  ;; Use relative line numbers
(display-line-numbers-mode t)                 ;; Enable line numbers
#+end_src

** Key bindings
*** Zooming in and out

#+begin_src emacs-lisp
(global-set-key (kbd "C-=") 'text-scale-increase)
(global-set-key (kbd "C--") 'text-scale-decrease)
#+end_src

*** Clipboard
Make it so that Ctrl-Shift-V pastes from clipboard.

#+begin_src emacs-lisp
(global-set-key (kbd "C-S-V") 'clipboard-yank)
#+end_src

*** General
Below are keybindings that use a leader key (Space) using the package ~general~.
#+begin_src emacs-lisp
(nvmap :keymaps 'override :prefix "SPC"
       "SPC"   '(counsel-M-x :which-key "M-x")
       "f f"   '(find-file :which-key "Find file")
       "r" '((lambda () (interactive) (load-file "~/.config/emacs/init.el")) :which-key "Reload emacs config")
)
(nvmap :keymaps 'override :prefix "SPC"
       "m *"   '(org-ctrl-c-star :which-key "Org-ctrl-c-star")
       "m +"   '(org-ctrl-c-minus :which-key "Org-ctrl-c-minus")
       "m ."   '(counsel-org-goto :which-key "Counsel org goto")
       "m e"   '(org-export-dispatch :which-key "Org export dispatch")
       "m f"   '(org-footnote-new :which-key "Org footnote new")
       "m h"   '(org-toggle-heading :which-key "Org toggle heading")
       "m i"   '(org-toggle-item :which-key "Org toggle item")
       "m n"   '(org-store-link :which-key "Org store link")
       "m o"   '(org-set-property :which-key "Org set property")
       "m t"   '(org-todo :which-key "Org todo")
       "m x"   '(org-toggle-checkbox :which-key "Org toggle checkbox")
       "m B"   '(org-babel-tangle :which-key "Org babel tangle")
       "m I"   '(org-toggle-inline-images :which-key "Org toggle inline imager")
       "m T"   '(org-todo-list :which-key "Org todo list")
       "o a"   '(org-agenda :which-key "Org agenda")
)
#+end_src

** Font
#+begin_src emacs-lisp
(set-face-attribute 'default nil
  :font "Hack Nerd Font 14"
  :weight 'medium
)
#+end_src
